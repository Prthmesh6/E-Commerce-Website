{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\Projects\\\\Ecom\\\\frontend\\\\src\\\\Screens\\\\ProfileScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Form, Button, Row, Col, FormGroup, FormLabel, FormControl } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { getUserDetails, updateUserProfile } from \"../actions/userAction\";\nimport { USER_UPDATE_PROFILE_RESET } from \"../constants/userConstant\"; // -------------------------------------------------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfileScreen = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const dispatch = useDispatch();\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    loading,\n    error,\n    user\n  } = userDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const userUpdateProfile = useSelector(state => state.userUpdateProfile);\n  const {\n    success\n  } = userUpdateProfile;\n  useEffect(() => {\n    if (!userInfo) {\n      navigate(\"/login\");\n    } else {\n      if (!user || !user.name || success) {\n        dispatch({\n          type: USER_UPDATE_PROFILE_RESET\n        });\n        dispatch(getUserDetails(\"profile\"));\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n      }\n    }\n  }, [navigate, userInfo, dispatch, user, success]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords do not match\");\n    } else {\n      dispatch(updateUserProfile({\n        id: user._id,\n        name,\n        email,\n        password\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      md: 3,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"User Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }, this), message && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), success && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"success\",\n        children: \"Profile Updated\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: \"Name \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            type: \"name\",\n            placeholder: \"Enter name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          controlId: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: \"Email Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            type: \"email\",\n            placeholder: \"Enter email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          controlId: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            type: \"password\",\n            placeholder: \"Enter password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          controlId: \"confirstPassword\",\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            children: \" Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            type: \"password\",\n            placeholder: \"confirm password\",\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"info\",\n          className: \"my-3\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      md: 9,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"My Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfileScreen, \"iWiT50cypVAcJkxMD5jIsuAkHBE=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ProfileScreen;\nexport default ProfileScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Form","Button","Row","Col","FormGroup","FormLabel","FormControl","useDispatch","useSelector","Message","Loader","getUserDetails","updateUserProfile","USER_UPDATE_PROFILE_RESET","ProfileScreen","navigate","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userDetails","state","loading","error","user","userLogin","userInfo","userUpdateProfile","success","type","submitHandler","e","preventDefault","id","_id","target","value"],"sources":["C:/Users/suraj/OneDrive/Desktop/Projects/Ecom/frontend/src/Screens/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Form,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  FormGroup,\r\n  FormLabel,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { getUserDetails, updateUserProfile } from \"../actions/userAction\";\r\nimport { USER_UPDATE_PROFILE_RESET } from \"../constants/userConstant\";\r\n\r\n// -------------------------------------------------------------------------------------------------------------\r\n\r\nconst ProfileScreen = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { loading, error, user } = userDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n  const { success } = userUpdateProfile;\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) {\r\n      navigate(\"/login\");\r\n    } else {\r\n      if (!user || !user.name || success) {\r\n        dispatch({ type: USER_UPDATE_PROFILE_RESET });\r\n        dispatch(getUserDetails(\"profile\"));\r\n      } else {\r\n        setName(user.name);\r\n        setEmail(user.email);\r\n      }\r\n    }\r\n  }, [navigate, userInfo, dispatch, user, success]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      setMessage(\"Passwords do not match\");\r\n    } else {\r\n      dispatch(updateUserProfile({ id: user._id, name, email, password }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3}>\r\n        <h2>User Profile</h2>\r\n        {error && <Message variant=\"danger\">{error}</Message>}\r\n        {message && <Message variant=\"danger\">{message}</Message>}\r\n        {success && <Message variant=\"success\">Profile Updated</Message>}\r\n\r\n        {loading && <Loader />}\r\n\r\n        <Form onSubmit={submitHandler}>\r\n          <FormGroup controlId=\"name\">\r\n            <FormLabel>Name </FormLabel>\r\n            <FormControl\r\n              type=\"name\"\r\n              placeholder=\"Enter name\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n            ></FormControl>\r\n          </FormGroup>\r\n\r\n          <FormGroup controlId=\"email\">\r\n            <FormLabel>Email Address</FormLabel>\r\n            <FormControl\r\n              type=\"email\"\r\n              placeholder=\"Enter email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            ></FormControl>\r\n          </FormGroup>\r\n\r\n          <FormGroup controlId=\"password\">\r\n            <FormLabel>password</FormLabel>\r\n            <FormControl\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            ></FormControl>\r\n          </FormGroup>\r\n\r\n          <FormGroup controlId=\"confirstPassword\">\r\n            <FormLabel> Confirm Password</FormLabel>\r\n            <FormControl\r\n              type=\"password\"\r\n              placeholder=\"confirm password\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n            ></FormControl>\r\n          </FormGroup>\r\n\r\n          <Button type=\"submit\" variant=\"info\" className=\"my-3\">\r\n            Update\r\n          </Button>\r\n        </Form>\r\n      </Col>\r\n      <Col md={9}>\r\n        <h2>My Orders</h2>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}