{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\Projects\\\\Ecom\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\suraj\\\\OneDrive\\\\Desktop\\\\Projects\\\\Ecom\\\\frontend\\\\src\\\\Screens\\\\RegisterScreen.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { Form, Button, Row, Col, FormGroup, FormLabel, FormControl } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport { login, register } from \"../actions/userAction\";\nimport FormContainer from \"../components/FormContainer\"; // -------------------------------------------------------------------------------------------------------------\n\nvar RegisterScreen = function RegisterScreen() {\n  var location = useLocation();\n  var navigate = useNavigate();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      confirmPassword = _useState8[0],\n      setConfirmPassword = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      message = _useState10[0],\n      setMessage = _useState10[1];\n\n  var dispatch = useDispatch();\n  var userRegister = useSelector(function (state) {\n    return state.userRegister;\n  });\n  var loading = userRegister.loading,\n      error = userRegister.error,\n      userInfo = userRegister.userInfo;\n  var redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  useEffect(function () {\n    if (userInfo) {\n      navigate(redirect);\n    }\n  }, [navigate, userInfo, redirect]);\n\n  var submitHandler = function submitHandler(e) {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords do not match\");\n    } else {\n      dispatch(register(name, email, password));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Sign Up\"), error && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, error), message && /*#__PURE__*/React.createElement(Message, {\n    variant: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }\n  }, message), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    controlId: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Name \"), /*#__PURE__*/React.createElement(FormControl, {\n    type: \"name\",\n    placeholder: \"Enter name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    controlId: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, \"Email Address\"), /*#__PURE__*/React.createElement(FormControl, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    controlId: \"password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"password\"), /*#__PURE__*/React.createElement(FormControl, {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    controlId: \"confirstPassword\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \" Confirm Password\"), /*#__PURE__*/React.createElement(FormControl, {\n    type: \"password\",\n    placeholder: \"confirm password\",\n    value: confirmPassword,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"info\",\n    className: \"my-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(Row, {\n    className: \"py-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"Have an Account?\", \" \", /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? \"/login?redirect=\".concat(redirect) : \"/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Login\")))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","Link","Form","Button","Row","Col","FormGroup","FormLabel","FormControl","useDispatch","useSelector","Message","Loader","login","register","FormContainer","RegisterScreen","location","navigate","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userRegister","state","loading","error","userInfo","redirect","search","split","submitHandler","e","preventDefault","target","value"],"sources":["C:/Users/suraj/OneDrive/Desktop/Projects/Ecom/frontend/src/Screens/RegisterScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Form,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  FormGroup,\r\n  FormLabel,\r\n  FormControl,\r\n} from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Message from \"../components/Message\";\r\nimport Loader from \"../components/Loader\";\r\nimport { login, register } from \"../actions/userAction\";\r\nimport FormContainer from \"../components/FormContainer\";\r\n\r\n// -------------------------------------------------------------------------------------------------------------\r\n\r\nconst RegisterScreen = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState();\r\n  const [message, setMessage] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const userRegister = useSelector((state) => state.userRegister);\r\n  const { loading, error, userInfo } = userRegister;\r\n\r\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n  useEffect(() => {\r\n    if (userInfo) {\r\n      navigate(redirect);\r\n    }\r\n  }, [navigate, userInfo, redirect]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      setMessage(\"Passwords do not match\");\r\n    } else {\r\n      dispatch(register(name, email, password));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <h1>Sign Up</h1>\r\n      {error && <Message variant=\"danger\">{error}</Message>}\r\n      {message && <Message variant=\"danger\">{message}</Message>}\r\n\r\n      {loading && <Loader />}\r\n      <Form onSubmit={submitHandler}>\r\n        <FormGroup controlId=\"name\">\r\n          <FormLabel>Name </FormLabel>\r\n          <FormControl\r\n            type=\"name\"\r\n            placeholder=\"Enter name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></FormControl>\r\n        </FormGroup>\r\n\r\n        <FormGroup controlId=\"email\">\r\n          <FormLabel>Email Address</FormLabel>\r\n          <FormControl\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></FormControl>\r\n        </FormGroup>\r\n\r\n        <FormGroup controlId=\"password\">\r\n          <FormLabel>password</FormLabel>\r\n          <FormControl\r\n            type=\"password\"\r\n            placeholder=\"Enter password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></FormControl>\r\n        </FormGroup>\r\n\r\n        <FormGroup controlId=\"confirstPassword\">\r\n          <FormLabel> Confirm Password</FormLabel>\r\n          <FormControl\r\n            type=\"password\"\r\n            placeholder=\"confirm password\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          ></FormControl>\r\n        </FormGroup>\r\n\r\n        <Button type=\"submit\" variant=\"info\" className=\"my-3\">\r\n          Register\r\n        </Button>\r\n\r\n        <Row className=\"py-3\">\r\n          <Col>\r\n            Have an Account?{\" \"}\r\n            <Link to={redirect ? `/login?redirect=${redirect}` : \"/login\"}>\r\n              Login\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}